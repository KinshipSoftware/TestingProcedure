# test cases exported from test plan file lamus_tree-replace.xml on 2012-12-03 (09:02).

ReplaceTreeTest
  Preface1 "Create a simple tree in Arbil ('corpus1'->'session1'->'resource1.txt' - this resource can be some text file you create) and export it (make sure you check the checkbox 'Copy resource files'). Create a workspace in LAMUS, upload this tree and link it to the tree. Submit the workspace and wait for a confirmation email."
  ReplaceResource1 "Create a workspace in the branch just created. Create another resource file of the same type (\\"resource2.txt\\") and upload it. Right click on \\"resource1.txt\\" and select \\"replace node\\". Choose \\"resource2.txt\\" from the list and click \\"Replace\\". Make sure that the new resource is now in place of the old one, in the tree."
  ReplaceResource1_SubmitTest "Submit the workspace. After the confirmation email, make sure that the new resource is in the right place, by checking it with the IMDI Browser."
  ReplaceResource1_VersionCheck "Also in the IMDI Browser, in the resource, make sure that a new version is indicated in the versions table."
  ReplaceResource2 "Same procedure as above, but try replacing \\"resource1.txt\\" by the exact same file. After replacing the file and submitting the workspace, the versions table in the resource page should show exactly the same versions as before."
  ReplaceSession1_preface "Create a session file in Arbil ('session2') and export it. Create a workspace in the same branch as before. Upload the newly created session ('session2')."
  ReplaceSession1 "Right click on \\"session1\\" and select \\"replace tree\\". Choose \\"session2\\" from the list and click \\"Replace\\". You should see a warning stating that the old tree will be completely removed. Click \\"Continue\\". Make sure that the new session is now in place of the old one, in the tree."
  ReplaceSession1_SubmitTest "Submit the workspace. After the confirmation email, make sure that the new session is in the right place, by checking it with the IMDI Browser."
  ReplaceSession1_VersionCheck "Also in the IMDI Browser, right click the session node, select \\"version info\\" and make sure that there are now two versions of the session listed."
  ReplaceCorpus1 "Create a corpus file in Arbil (\\"corpus2\\") and export it. Create a workspace in the same branch as before. Add a new corpus node (\\"corpus3\\") to the tree by right clicking on the root node and selecting \\"add corpus node\\". Upload the newly created corpus (\\"corpus2\\"). Right click on \\"corpus3\\" and select \\"replace tree\\". Choose \\"corpus2\\" from the list and click \\"Replace\\". You should see a warning stating that the old tree will be completely removed. Click \\"Continue\\". Make sure that the new corpus is now in place of the old one, in the tree."
  ReplaceCorpus1_SubmitTest "Submit the workspace. After the confirmation email, make sure that the new corpus is in the right place, by checking it with the IMDI Browser. The node that was added and immediately replaced shouldn't be in the tree."
  ReplaceCorpus2 "Create a corpus file in Arbil (\\"corpus4\\") and export it. Create a workspace in the same branch as before. Upload the newly created corpus (\\"corpus4\\")."
  ReplaceCorpus2_2 "Right click on \\"corpus2\\" and select \\"replace tree\\". Choose \\"corpus3\\" from the list and click \\"Replace\\". You should see a warning stating that the old tree will be completely removed. Click \\"Continue\\". Make sure that the new corpus is now in place of the old one, in the tree. Submit the workspace. After the confirmation email, make sure that the new corpus is in the right place, by checking it with the IMDI Browser."
  ReplaceCorpus3 "Create a new simple tree structure in Arbil (\\"corpus5\\"->\\"session3\\"->\\"resource3.txt\\") and export it (make sure you check the checkbox \\"Copy resource files\\")."
  ReplaceCorpus3_CreateWorkspace "Create a workspace in the same branch as before. Upload the tree just created and link it to the root node in the tree. Submit the workspace. After the confirmation email, go back to Arbil, reload the tree you just submitted into the archive and import it to your local corpus (make sure to select the option \\"Overwrite Local Changes\\"."
  ReplaceCorpus3_1 "Change the node names of \\"corpus5\\" and \\"session3\\" to \\"corpus5_changed\\" and \\"session3_changed\\". Other changes can be made (title, description). Export the tree (this time it's not necessary to check any checkbox."
  ReplaceCorpus3_2 "Creat a workspace in the same branch as before. Upload the changed tree. Right click on the \\"corpus5\\" node in the tree and select \\"replace tree\\". Select the uploaded top node of the tree and click \\"Replace\\". You should see a message indicating success. You can check if the nodes in the tree correspond to the changed ones, by right clicking a node and selecting \\"view node\\". Submit the workspace."
  ReplaceCorpus3_3 "After the confirmation email make sure that the changed branch has the changes, by checking it with the IMDI Browser. Also in the IMDI Browser, right click the session node, select \\"version info\\" and make sure that there are now two versions of the session listed. The corpus node has no versioning. The resource file should have still one version, as before."
  ReplaceCorpus4 "Using Arbil, import the tree that resulted from the previous test (make sure you check the checkbox \\"Copy resource files\\"). Change the node names again, to \\"corpus5_changed-again\\" and \\"session3_changed-again\\" (and maybe other changes as well). Open \\"resource3.txt\\" using some text editor and make some changes to it. Then, in the tree that you were changing in Arbil, right click on the resource, select \\"Browse For Resource File\\", browse to the updated resource file and select it as the new location for the resource. Export the updated tree (make sure you check the checkbox \\"Copy resource files\\")."
  ReplaceCorpus4_CreateWorkspace "Create a workspace in the same branch as before. Upload the changed tree. Right click on the \\"corpus5_changed\\" node in the tree and select \\"replace tree\\". Select the uploaded top node of the tree and click \\"Replace\\". You should see a message indicating success. You can check if the nodes in the tree correspond to the changed ones, by right clicking a node and selecting \\"view node\\". Submit the workspace."
  ReplaceCorpus4_2 "After the confirmation email, make sure that the changed branch has the changes, by checking it with the IMDI Browser. Also in the IMDI Browser, right click the session node, select \\"version info\\" and make sure that there is now one more version (three) of the session listed. The corpus node has no versioning. The resource file should have now two versions listed."
  ReplaceCorpus5 "Using Arbil, create a more complex tree, with more than one branch (a corpus containing several corpus which contain sessions which contain resources). Attach resources to the tree and export it (make sure you check the checkbox \\"Copy resource files\\")."
  ReplaceCorpus5_CreateWorkspace "Create a workspace in the same branch as before. Upload the tree just created. After the confirmation email, go back to Arbil, import again the tree you just submitted into the archive (make sure to select the option \\"Overwrite Local Changes\\")."
  ReplaceCorpus5_2 "Make some changes in the files, like node name and/or title in corpus and sessions. Modify also some resources in their original locations (by right clicking on them, selecting \\"Browse For Resource File\\" and browsing for the location where the updated version is)."
  ReplaceCorpus5_ExportTree "Export the tree (make sure you check the checkbox \\"Copy resource files\\"). Create a workspace in the same branch as before. Upload the changed tree. Right click on the top node of the tree you have submitted before and select \\"replace tree\\". Select the uploaded top node of the tree and click \\"Replace\\". You should see a message indicating success."
  ReplaceCorpus5_Export "the tree You can check if the nodes in the tree correspond to the changed ones, by right clicking a node and selecting \\"view node\\". Submit the workspace. After the confirmation email, make sure that the changed branch has the changes, by checking it with the IMDI Browser. Also in the IMDI Browser, right click on some session nodes, select \\"version info\\" and make sure that there is now one more version than before (should be two now)."
  ReplaceCorpus5_2 "The corpus node has no versioning. The resource files that were updated should have now one more version than before (should be two now). The ones that weren't changed should still only have one version."
  ReplaceExternalNode "Go to the IMDI Browser in corpus1 and find \\"MPI Corpora\\"->\\"Demo\\"->\\"PeWi corpus\\". Right click on that node, select \\"create bookmark\\" and copy its URL (address after \\"url: \\"). Create a workspace in the same place as before. Right click the top node and select \\"link node -> link external node\\". Paste the URL copied before. Select the type as being \\"IMDI corpus node\\" and click \\"Submit\\". Submit the workspace."
  ReplaceExternalNode_CreateCorpus "Using Arbil, create a corpus node (\\"corpus6\\") and export it. Create a workspace in the same place as before. Upload the newly created corpus (\\"corpus6\\"). Right click the external node added before and select \\"replace tree\\". Select the uploaded node and click \\"Replace\\". You should see a message indicating success."
  ReplaceExternalNode_VersionCheck "You can check if the nodes in the tree correspond to the changed ones, by right clicking a node and selecting \\"view node\\". Submit the workspace. After the confirmation email, make sure that the changed branch has the changes, by checking it with the IMDI Browser."
  ReplaceNodeMultipleParents "Using Arbil, create another tree (\\"lastcorpus1\\"->\\"lastsession1\\"->\\"lastresource1.txt\\") and export it (make sure you check the checkbox \\"Copy resource files\\")."
  ReplaceNodeMultipleParents_CreateNewWorkspace "Create a workspace in the same branch as before. Upload the tree just created and link it to the root node in the tree."
  ReplaceNodeMultipleParents_CreateNewCorpusNode "Create a new corpus node in the root node (right click - \\"add corpus node\\") called \\"lastcorpus2\\". Click on \\"lastcorpus2\\" and, while pressing Ctrl, click \\"lastsession1\\". Right click there and select \\"link selected nodes\\". Submit the workspace. After the confirmation email, create a new workspace, this time using \\"lastcorpus1\\" as the root node."
  ReplaceNodeMultipleParents_2 "Using Arbil, create a session file (\\"lastsession2\\") and export it. Upload it to the workspace. Right click on \\"lastsession1\\" and select \\"replace tree\\". Choose \\"lastsession2\\" from the list and click \\"Replace\\". You should see an error message saying that the node has parents outside the workspace."
  ReplaceNodeMultipleParents_3 "Delete the workspace. Create a new workspace, this time using \\"lastcorpus2\\" as the root node. The node \\"lastsession1\\" should be protected, so if you right click on it, the option to replace it should not be present."
  ReplaceNodeMultipleParents_4 "Using Arbil, create another tree (\\"lastcorpus1\\"->\\"lastsession1\\"->\\"lastresource1.txt\\") and export it (make sure you check the checkbox \\"Copy resource files\\")."
  ReplaceNodeMultipleParents_5 "After the confirmation email, make sure that the changed branch has the changes, by checking it with the IMDI Browser. Also in the IMDI Browser, right click the session node, select \\"version info\\" and make sure that there is now one more version (two) of the session listed."
