# test cases exported from test plan file Annex.xml on 2014-07-25 (14:13).

StartingAnnex
  OpenAnnexIMDIbrowser "Access the Metadata browser through lux17.mpi.nl, right click on an .eaf file (MPI Corpora > Demo > Annex_test > Metamorphosis : bird > MATA-09-10-21-B-nar2.eaf) and select 'view'. You should be directed to the ANNEX interface."
  LogIn "Select 'log in' from the top right menu. Enter your details. Your username should then appear beside the 'log in' function."
  LogIn2 "Close Annex. Then reopen the Metadata browser page. You should be already logged in. Try also to re-open the resource MATA-09-10-21-B-nar2.eaf in Annex. Again, you should already be logged in. "
  LogIn3 "Close Annex again. Reopen the Metadata browser and then the .eaf file in Annex."
  LogIn3b "Select a chunk and create a bookmark with it (mark a piece from time a to time b in the timeline, click on create bookmark select the two upper checkboxes and select 'copy to clipboard). (see below 4. Control_Panel > TimelineCreateBookmark). Close and quit the browser. Paste the bookmark in a new web page and press 'Enter'. Annex interface should  open and you should be able to log in from there. "

ToAnnexFromTrova
  ToAnnex "From the Metadata Browser select an annotation file (MPI Corpora > Demo > Annex_test > MATA-09-10-21-B-nar2.eaf) and click on 'Content Search' in the main panel. In the white field (in Trova) enter a search string (e.g. 'the') and click on find. Double click one of the results (the 8th). You should be redirected to Annex. "
  ToAnnex2 "Check whether in the timeline panel the correct tier is highlighted in red, and whether the whole segment containing the searched string is highlighted in purple in the timeline panel, and in light blue in the mini data frame."

MenuBar
  Manual "In the context menu in the top left corner, click on 'manual'. You should be directed towards the manual page."
  HelpQuestionMark "Drag the question mark on an item, for eg. the play button. A small help window should open with explanations and tips for shortcuts, for eg."
  SelectingStripforEmbedding "Select a piece of the annotation by double clicking on it. Try select another one by dragging the play line (i.e. the thin vertical red line in the timeline panel) to select pieces of the timeline. Both should be possible. NOTE: don't start selecting from the very beginning of the video otherwise it will be difficult to then check the embedding."
  Embed "Click on 'embed'. A window should open that provides options for embedding annex into other webpages."
  Embed2 "Click on the 'Show border' box and check it. The box on the right should become active. Enlarge the border width to 2, change the border color to green, and the border type to dotted."
  EmbedSize "Change the size to 500 x 600. The change should be denoted in the embed markup."
  EmbedDV "Select 'subtitle'. The change should also be denoted in the embed markup."
  EmbedF "Click on the list for Tier text font. There should be a list of fonts. Now select 'Arial'."
  EmbedTiers "Click on the tier 1 and tier 2 lists. All the available tiers should be in the list. For Tier 1, select Translation Nl. For Tier 2, select Translation En."
  EmbedStartingPoint "As starting point select 'Current location'. (There is no actual visible change here. To check this option see test item 'Embed Check' below) "
  CopyToClipboard1 "Copy to clipboard. Save any webpage which is not annex (e.g. go to the wiki page and take the following file: annex-embed-test.html) to your desktop or downloads. Right click on the saved file and select \"Edit with Notepad ++\". Now paste the embed markup from Annex into the file you are editing in Notepad. Save it. "
  OpeningWebPage "Now open the webpage (your browser should have an option to \"open file\". The clip should appear on the website with a dotted green frame surrounding it etc. "
  EmbedCheck "Check if the clip has been embedded from the selected location and not from the beginning of the video."
  EmbedSuccess "Check to see whether ALL the functions have successfully been embedded: the borders (colors and format); the font type, etc. Check also whether the content of the tiers effectively corresponds to the tier chosen while embedding."
  Embed6 "Go to the embed menu again. Click on 'Done'. Then open it again. The previous changes should be reset."
  CompactMode "Move the arrow along the bar at the top of the page between  'compact' and spacious. The space between tiers in the timeline should enlarge the more you move the arrow towards 'spacious'. The space should reduce the further you move the arrow towards 'compact'."

Video_Display
  VideoDisplayMin "Click on min. The box should get minimized, with only the audio available through the regular features (play, fast forward, etc..)"
  Max "Click on Max, the window should then become rearranged to its original position. "
  Play "Click on play. The audio should now be played. NOTE: the playline in the Timeline panel should start moving after few seconds because it is a video with offset."
  ProgressThroughTimeline "While the clip is playing, the play line in the timeline should be consistently moving along the annotations"
  SwitchingThroughTimeline "While the clip is playing, click on an earlier time frame in the progress bar under the video display. The audio should resume from there onwards."
  Rewind "While the clip is playing, press the 5 second rewind button, the clip should rewind 5 seconds and continue playing automatically."
  FastFwd "While the clip is playing, press the 5 second fast forward button, the clip should skip 5 seconds and continue playing automatically. "
  RewindPaused "While the clip is paused, press the 1 second rewind button, the clip should rewind 1 second."
  FastFwdPaused "While the clip is paused, press the 1 second fast forward button, the clip should skip 1 second."
  Volume "Alternate the volume, first lower it then higher it. The differences should be noticeable. Now mute it."
  ToBegnStop "Click on 'to beginning'. You should be taken to the beginning of the timeline."
  ToEndnStop "Click on 'to end', you should be taken to the end of the timeline."
  FullScreen "Click on \"Full\". The video should go back to its original size."
  FullScreen2 "Click on full screen icon (next to volum icon). The video in full screen should appear.  "
  Buffer "Click on Buffer. A small window should appear with an explanation on pseudostreaming. "
  Buffer2 "NOTE: remember to clear cache and reload the page before doing this test because otherwise you won't see anything happen. Adjust the buffer time to 80 and click on submit buffer time. The video should then buffer accordingly and start playing after 80 seconds,  but bear in mind that if you have a very fast connection the clip can start earlier. "
  Buffer3 "Type in 300 in the buffer time and press enter. The time should revert to the maximum of 100."

Information
  MinMax "Click on min. The box should get minimized. Then click on max. The box should get maximised."
  GeneralTab "In the timeline box, click on second 33. In 'Elapsed time' in the general tab the time should match accordingly. "
  GeneralTab1 "Now drag the play line from timeline to the 34th second. Under 'selected chunk' in the General tab, the begin time and end time should match accordingly."
  SessionTab "The session tab should display the language, the project, the genre, and the subgenre."

Mini_Data_Frame
  MinMax "Click on min. The box should get minimized. Then click on max.The box should get maximised."
  TierList "Select Translation Nl from the tier list. The entire text box should be filled with the text from the Translation Nl tier. "
  YellowInfoBox "place the mouse cursor on a given word in the MDF, for example 'kreek' (second line). The begin and end time should be displayed"
  HighlightText "Click on a word in the Mini Data Frame, for example 'kreek'. The video should move accordingly as should the timeline, which also highlights the given time frame."
  HighlightText2 "From the drop don menu on the right of 'Tier' change the tier type. Also the highlighted tier part should change accordingly. "
  FontSize "Click on font size, and select size 24. The size should adjust accordingly."

Control_Panel
  TextGeneral "In the control panel on the left hand side, click on text. 3 boxes with 3 tiers should appear. All 3 should be minisisable/maximisable and expandable/shrinkable."
  TextTierScroll "Click on tier 1, and use the mouse to scroll down."
  Text_Tier "For tier1, select Text, for tier2. select Translation Nl, for tier 3, select Translation En. The tiers should then contain the respective text."
  TierFontSize "Enlarge the font size to 20. The font in all three tiers should be enlarged."
  TierTextFont "Change the font to Copperplate. The font in all three tiers should now be changed."
  Tier1HighlightText "In tier 1 (Text), click on the fragment 'to landyng unikhanin' and press play. The adjacent fragment in tiers 2 and 3 should also then be highlighted."
  GridChangeTiers "Click on 'grid' in the control panel. Now enlarge the width of tier 2."
  GridScroll "Use the mouse to scroll up and down"
  GridHighlight "Check 'highlight currently read lines while video plays' and press play. The text being played should now be red. In addition, the text should scroll down automatically."
  GridHighlight2 "Uncheck 'highlight currently read lines while video plays' and press play. The Grid panel should then remain unaffected by the video being played."
  GridEndTime "Click on 'End time'. The sequence should now be sorted according to the end time. Click on it again. The order shown before should be inverted."
  GridBeginTime "Click on 'Begin time'. The sequence should now be sorted according to the begin time. Click on it again. The order shown before should be inverted"
  GridTier3 "Click on Tier3. The items in Translation En should be arranged alphabetically. Since they do not directly correspond to the text of tier 1 and 2, they are shown either on top or in the bottom."
  GridTier2 "Click on tier 2, the items in Translation Nl should now be arranged alphabetically. Again, since they do not directly correspond to the text of the other two tiers, they are shown either on top or in the bottom."
  GridTier1 "Click on tier 1. The sentences should now be aligned alphabetically."
  GridColumnWidth "Click on the line separating Tier 1 and tier 2 and enlarge the width of Tier 1."
  Subtitle "Now click on 'Subtitle' from the control panel. Press play. The text in the tiers should correspond to the clip."
  Waveform "Click on Waveform. You should then see a left and a right channel. with the waves being presented."
  Waveform1 "Click on different parts of the wave. The progress bar under the video display should move accordingly. [if you do this when the video is playing, the latter will stop everytime.]"
  Waveform2 "Now change screen in the waveform panel and then click on it. The play line in the Timeline panel and the progress bar in the video display should come back at the point you have selected. "
  WaveformFrequency "It should be possible to adjust the scale of the waveform by clicking on the '+' and '-' signs. Note that the zooming in and out will occur in the center of the waveform panel."
  CrossAnnotationsWhenPaused "Go to one of the following control panel pages: Text, Grid. Select one piece of annotation in one tier and, while pressing shift, select another piece of annotation in another tier.   "
  CrossAnnotationsWhenPaused2 "Switch to the Timeline view mode. In the panel including the annotations you should see two chunks highlighted in blue, which correspond to the ones selected in the previous test. NOTE: the two chunks may not be in the same screen, so move across screens to check whether both chunks have been effectively selected.   "
  CrossAnnotationsWhenPlaying "Go to the Timeline view mode. Select a chunk of an annotation. Press Play. Check if the play line moves and the screens change. Now switch to other view modes. Check if 1) in the Text view mode the chunks of annotation played are highlighted in red; 2) in the Grid view mode the chunks of annotations are highlighted in red and scroll down while the clip is playing; 3) in the Subtitle view mode the text of the tier changes as the clip plays; 4) in the Waveform the play line is moving."
  TimelineTBTfiles "NOTE: to do this test you have to use a .tbt file, which you can find at the following path: MPI Corpora > Demo > Annex_test > TBT files > LladicLlenSarLo.tbt Open it in Annex. Check that the annotations are displayed in a correct way, and not like described in ticket #3964. "
  TimelineSwitchFont "Press play. Change the font to 'calibri' during playback, the font should change while the play line remains in sync."
  TimelineProgressBar "During play back, move the progress bar under the video display to a previous instance. The video display should follow."
  TimelineCreateSelection "Select a fragment by dragging the play line along the desired strip. It should now be shaded in blue. NOTE: start your selection from \"There was a man\", at the beginning of the video. The video should start playing immediately, despite the offset. "
  TimelinePlaySelection "Now click on 'play selection'. The desired fragment is played."
  TimelineClearSelection "Select again a chunk and click on 'Clear selection'. The blue part should go away."
  TimelineCreateBookmark "Select a chunk and then click on 'Create bookmark'. Check both 'Selected region' and 'Selected tiers', and click on 'Copy to clipboard'. Then open a new webpage and paste the link created. Press Enter. Annex interface should open with the bookmarked chunk highlighted in blue."
  NavigationButtonsMvBeginningEnd "On the left, click on the Move to beginning/end navigation button. The Timeline should now to the beginning and then to the end."
  NavigationButtonsPlusMinus "Click on '+'. THe timeline should be zoomed in. Click on '-'. The timeline should be zoomed out. Note that the zooming in and out will occur in the center of the timeline panel."
  PlayByScreen "The timeline should shift screens as it plays"
  PlayContinually "The timeline should move gradually."

VideoWithoutOffset
  OpenAnnex "Access the Metadata browser through lux17.mpi.nl, right click on an .eaf file ( MPI Corpora, Demo, PeWiCorpus, Kleveroute, elan_example.eaf) and select 'view'. You should be directed to the ANNEX interface."
  PlayClip "Play the clip and check: 1) whether the play line in the Timeline panel is moving; 2) whether you can click on an earlier time frame in the progress bar under the video display and the audio resumes from there onwards."
  MoveFwdRwdFAST "While the video is playing, click on 'Forward five seconds' and 'Rewind five seconds' under the progress bar in the video display. Check whether the bar in the video display and in the Timeline panel jumps to and back of five seconds."
  SwitchTiers "Click on 'timeline' in the control panel. In the menu bar, move the arrow to 'compact'. Now drag the tier W-words to W-IPA and drop it. The former tier should take the position of the latter."
  SwitchTiers2 "Now try to drag the same tier (W-words) back to its previous location. "
  ShowTiers3 "Try to move around a few tiers and check whether the tiers moved are the ones you effectively selected."
  HideTiers "Drag one of the tiers. Check that the overlay is matching (e.g. if you drag W-words, you should see 'W-words' coming out under it and not other tiers), and that 'HIDE TIER' appears on the left of the time in the timeline panel. Now drop the tier at the same location from where you dragged it."
  HideTiers2 "Do the same as in the previous test, but now drop the tier in 'HIDE TIER'. Check that (correct) tier has effectively been hidden. Repeat the test for two or three tiers more. NOTE: make sure you still have at least two tiers visible before going to the next test. "
  HideTiers3 "Change the compactness to 'Spacious' and check the tiers previously hidden are still hidden."
  ShowTIers "Now instead of 'HIDE TIER' you should see 'SHOW ALL'. Click on it. The tier(s) previously hidden should be visible again."
  Synchronization "Go to the Text view mode and select three tiers (e.g. Tier 1 - W-Spch; Tier 2 - W-words; Tier 3 - W-POS). "
  Synchronization2 "Press play. If you now go to the view modes Grid and Subtitles, you should see the same tiers previously selected being played. "
  Embed "In the Timeline view mode select a chunk of annotation (by dragging the play line) and click on the option 'embed' on top of the page. "
  Embed2 "From the window that comes out adjust the constraints (for this see test group 3. tests 5 to 14). "
  NavigationButtonsRwdFfwdFAST "NOTE: before doing this test make sure that 1) you are not in the Annex page previously opened via TROVA (see test group 2 above); and 2) you reload the page. Click on 'Move timeline view forward (fast)' and then 'Move timeline view back (fast)'. Keep it pressed till the end of the clip, and then back till the beginning. The timeline should move forward and back quickly without snapping or without becoming blank."
  NavigationButtonsRwdFfwdSLOW "NOTE: before doing this test make sure that 1) you are not in the Annex page previously opened via TROVA (see test group 2 above); and 2) you reload the page. Click on 'Move timeline view forward (slowly)' and then 'Move timeline view forward (slowly)'. Keep it pressed till the end of the clip, and then back till the beginning. The timeline should move forward and back slowly without snapping or without becoming blank."

AudioTest
  OpenIMDIBroswerAudio "Access the Metadata browser through lux17.mpi.nl, right click on an .eaf file ( MPI Corpora, Demo, PeWiCorpus, Kleveroute, elan_example.eaf) and select 'view'. You should be directed to the ANNEX interface."
  Play "In the video display, press play, listen to the entire clip. It should be in sync with the timeline."
  Rewind "In the video display, press rewind 5 seconds. Both the audio file and the timeline should rewind 5 seconds and remain in sync."
  Fast_forward "In the video display, press forward 5 seconds. Both the audio file and the timeline should forward 5 seconds and remain in sync"
  ToBegNStop_ToEndNStop "In the video display, click first on To end. You should be taken tot he end of the clip and timeline. "
  ToBegNStop1 "Let the clip play. Now click on To beginning. The timeline and clip should then go back to the beginning but continue play."
  toBegNStop2 "Stop the clip. Now click again on to beginning and stop. The timeline and clip should then go back to the beginning and stop. "
  Mute "Click on mute. The sound should be muted."
  Link2selectionAudio "Now select a fragment from the 26th second to the 31st and click on 'Create bookmark'. Check both 'Selected region' and 'Selected tiers', and click on 'Copy to clipboard'. Then open a new webpage and paste the link created. Press Enter. Annex interface should open with the bookmarked chunk highlighted in blue. When played via \"Play selection\", the clip should be in sync with the timeline."

LogOut
  LogOut "On the top right corner of the page click on 'log out'. A dialog window should open asking you if you really want to log out. Click on 'Cancel', the window would be closed."
  LogOut2 "When the dialog window opens asking you if you really want to log out, click on Ok. Now re-run Annex. You should see 'anonymous' next to 'user'. "
